<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>日常 - Elizen</title>
    <meta property="og:title" content="日常 - Elizen">
    
    <meta name="twitter:card" content="summary">
    <meta name="referrer" content="never" />

    
    
    <link rel="stylesheet" href="/css/custom.css"></link>
    <link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/lxgwwenkaiscreen.css" media="print" onload="this.media='all'">
    <script type="text/javascript" src="/js/view-image.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
    
    window.ViewImage && ViewImage.init('.main img:not(.avatar,.tk-avatar-img)')
    </script>
    <script  src="https://jsd.cdn.zzko.cn/npm/quicklink@2.3.0/dist/quicklink.umd.js"></script>
    <script>window.addEventListener('load', () => {  quicklink.listen();});</script>
    
    

    
      
    

    
      
    

    
    

    

    
    <link href="/tags/%E6%97%A5%E5%B8%B8/index.xml" rel="alternate" type="application/rss+xml" title="Elizen" />
    
    

    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  
  <body class="tags">
    <header class="masthead">
      <h1><a href="/">Elizen</a></h1>

<p class="tagline">There is only one thing in the world worse than being talked about, and that is not being talked about.</p>

      <nav class="menu">
  <input id="menu-check" type="checkbox" hidden/>
  <label id="menu-label" for="menu-check" class="unselectable" hidden>
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/movies/">电影</a></li>
  
  <li><a href="/books/">阅读</a></li>
  
  <li><a href="/bibliography/">书目</a></li>
  
  <li><a href="/posts/">归档</a></li>
  
  <li><a href="/newsletter/">通讯</a></li>
  
  <li><a href="/kids/">孩童</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>日常</h1>

<h3>
</h3>
<hr>


      </header>


<div id="bber">正在加载...</div>

<script>
console.log("脚本开始执行");

var bbMemos = {
    memos: 'https://memos.elizen.me/',
    limit: '1',
    openId: 'eyJhbGciOiJIUzI1NiIsImtpZCI6InYxIiwidHlwIjoiSldUIn0.eyJuYW1lIjoiZWxpemVuLm1lQGdtYWlsLmNvbSIsImlzcyI6Im1lbW9zIiwic3ViIjoiMTAxIiwiYXVkIjpbInVzZXIuYWNjZXNzLXRva2VuIl0sImlhdCI6MTY5NzUwNzk1NX0.Fu_S88S0qAhNYO',
    domId: '#bber'
};

console.log("bbMemos 对象设置完成:", bbMemos);

function getRecentMemo() {
    console.log("开始获取最新 Memo");
    var bbUrl = `${bbMemos.memos}api/v1/memo?openId=${bbMemos.openId}&limit=${bbMemos.limit}`;
    console.log("API URL:", bbUrl);

    fetch(bbUrl)
        .then(response => response.json())
        .then(data => {
            console.log("API 返回数据:", data);
            updateHTMl(data);
        })
        .catch(error => {
            console.error("获取数据失败:", error);
            document.querySelector(bbMemos.domId).innerHTML = "<p>加载失败，请检查控制台。</p>";
        });
}

function updateHTMl(data) {
    console.log("开始更新 HTML");
    var memoContent = document.querySelector(bbMemos.domId);
    
    if (data && data.length > 0) {
        var memo = data[0];
        var content = marked.parse(memo.content);
        var dateStr = new Date(memo.createdTs).toLocaleString();

        memoContent.innerHTML = `
            <div class="bb-timeline">
                <ul class="bb-list-ul">
                    <li class="bb-list-li">
                        <div class="bb-div">
                            <div class="datatime">${dateStr}</div>
                            <div class="datacont">${content}</div>
                        </div>
                    </li>
                </ul>
            </div>`;
    } else {
        memoContent.innerHTML = "<p>暂无数据</p>";
    }
}

document.addEventListener('DOMContentLoaded', function() {
    console.log("DOM 加载完成，调用 getRecentMemo");
    getRecentMemo();
});
</script>

<style>
#bber {
    margin-top: 2em;
    width: 100%;
    border: 1px solid #ddd;
    padding: 10px;
}
.bb-timeline {
    margin-bottom: 2em;
}
.bb-list-ul {
    list-style-type: none;
    padding: 0;
}
.bb-list-li {
    margin-bottom: 1rem;
}
.bb-div {
    padding: 0.6rem 1rem;
    border: 1px solid #666;
}
.datatime {
    font-size: 0.85em;
    color: #777;
}
.datacont {
    margin-top: 5px;
}
.tag-span {
    color: #42b983;
}
</style>





<ul>
  
  <li>
    <span class="date">2023/01/20</span>
    <a href="/posts/2023/01/2023-travel-gu-bei-shui-zhen/">2023 旅行 - 古北水镇</a>
  </li>
  
  <li>
    <span class="date">2023/01/16</span>
    <a href="/posts/2023/01/play-with-snow/">玩雪迎新年</a>
  </li>
  
  <li>
    <span class="date">2023/01/03</span>
    <a href="/posts/2023/01/happy-2023/">2023 新年祝福</a>
  </li>
  
</ul>

  <footer>
  
<nav class="post-nav">
  <span class="nav-prev"></span>
  <span class="nav-next"></span>
</nav>

  <hr>
  

  
  <div class="copyright">© <a href="https://elizen.me">Elizen</a> | since 2009</div>
  
  </footer>
  </article>
  
  


  </body>
</html>

